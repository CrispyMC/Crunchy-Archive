From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: MrFishCakes <finlayoxby@outlook.com>
Date: Wed, 20 Oct 2021 22:11:59 +0100
Subject: [PATCH] Toggle Reload Command


diff --git a/src/main/java/dev/mrfishcakes/crunchy/config/CrunchyConfig.java b/src/main/java/dev/mrfishcakes/crunchy/config/CrunchyConfig.java
index af327165b6dae50ffef57741abe105eb48b3b327..0d0fe483b26639031eb26ce7d94883551bf2041c 100644
--- a/src/main/java/dev/mrfishcakes/crunchy/config/CrunchyConfig.java
+++ b/src/main/java/dev/mrfishcakes/crunchy/config/CrunchyConfig.java
@@ -272,4 +272,11 @@ public final class CrunchyConfig {
         }
     }
 
+    // Disable Reload Command
+    public static boolean disableReloadCommand;
+
+    private static void disableReloadCommand() {
+        disableReloadCommand = getBoolean("commands.disable-reload-command", false);
+    }
+
 }
diff --git a/src/main/java/net/minecraft/commands/Commands.java b/src/main/java/net/minecraft/commands/Commands.java
index b7c24a7ff4dc50d03f74b21a0b353d0ce559b4d4..b1b8d72e52772356c779cbca607845f171e7431a 100644
--- a/src/main/java/net/minecraft/commands/Commands.java
+++ b/src/main/java/net/minecraft/commands/Commands.java
@@ -101,6 +101,7 @@ import net.minecraft.server.commands.WhitelistCommand;
 import net.minecraft.server.commands.WorldBorderCommand;
 import net.minecraft.server.commands.data.DataCommands;
 import net.minecraft.server.level.ServerPlayer;
+import org.apache.logging.log4j.Level;
 import org.apache.logging.log4j.LogManager;
 import org.apache.logging.log4j.Logger;
 
@@ -156,7 +157,13 @@ public class Commands {
         MsgCommand.register(this.dispatcher);
         ParticleCommand.register(this.dispatcher);
         PlaySoundCommand.register(this.dispatcher);
-        ReloadCommand.register(this.dispatcher);
+        // Crunchy start - Toggle reload command
+        if (dev.mrfishcakes.crunchy.config.CrunchyConfig.disableReloadCommand) {
+            LOGGER.log(Level.WARN, "The /reload command is disabled by Crunchy. It will not register nor work!");
+        } else {
+            ReloadCommand.register(this.dispatcher);
+        }
+        // Crunchy end - Toggle reload command
         RecipeCommand.register(this.dispatcher);
         SayCommand.register(this.dispatcher);
         ScheduleCommand.register(this.dispatcher);
